Installtion Notes:

# I started with a very minimal Centos 8 Install. I think I only selected
# GNOME as the set of packages in the installer. Selecting too many led
# to the nouveau drivers not working once the install was complete. So
# clearly some packages don't play nice on the installation media.
#
# The UCL CS VPN would not work if I installed it too early (and the error was
# unformative, possibly some Java thing). So clearly some package that installs
# before it is needed
#
# On log in I have changed my desktop to Classic (X11 Server) rather than
# using Wayland. YMMV

1. Update OS
# dnf update
# dnf config-manager --set-enabled PowerTools
# dnf groupinstall "Development Tools"
# reboot

2. Gnome settings tweak tools for 4k
# dnf install gnome-tweaks
Global Dark Theme On
Fonts scaling 1.5

# xset m 16 1

3. Setup git
https://help.github.com/articles/setting-your-username-in-git
# git config --global user.name "Daniel Buchan"
# git config --global user.email "clone@myself.com"
# git config --global credential.helper libsecret

4. Set gnome-keyring to save git credentials
# dnf install libsecret-devel
# git config --global --unset credential.helper
# git config --global credential.helper /usr/libexec/git-core/git-credential-libsecret

5. Get this repo
# cd ~/Code
# git clone https://github.com/DanBuchan/setup_centos_8.git

6. Install atom
# dnf install lsb-core-noarch
# dnf install libXScrnSaver
# pip3 install pycodestyle
# rpm -Uvh atom.x86_64.rpm
 set sync-settings plugin
  Access: SEE GITHUB DEVELOPER SETTINGS
  GIST ID; 3c7678b1c60c348f0266567e44dad0fa
# set pycodestyle path in Linter prefs

7. Enable EPEL
# dnf install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm

8. Install keepass
# dnf install keepassxc

9. Install Dropbox and log in
As user NOT ROOT
# dnf install flatpak
# flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo
# flatpak install flathub com.dropbox.Client
Then add Dropbox to startup apps in gnome-tweaks

10. Install ffmpeg (to allow h264 playback in firefox)
https://computingforgeeks.com/how-to-install-ffmpeg-on-centos-rhel-8/
# dnf localinstall --nogpgcheck https://download1.rpmfusion.org/free/el/rpmfusion-free-release-8.noarch.rpm
# dnf install --nogpgcheck https://download1.rpmfusion.org/nonfree/el/rpmfusion-nonfree-release-8.noarch.rpm
# dnf install http://rpmfind.net/linux/epel/7/x86_64/Packages/s/SDL2-2.0.10-1.el7.x86_64.rpm
# dnf install ffmpeg ffmpeg-devel ffmpeg-libs

11. Install Firefox
Go to https://www.mozilla.org/en-GB/firefox/download/thanks/
# mv Downloads/firefox-72.0.2.tar.bz2 Applications/
# cd Applications
# bunzip2 firefox-72.0.2.tar.bz2
# tar -xvf firefox-72.0.2.tar
# Update or add /usr/share/applications/firefox.desktop
Exec is now /home/dbuchan/Applications/firefox/firefox
Icon is /home/dbuchan/Applications/firefox/browser/chrome/icons/default/default128.png

12. Open Firefox and login to sync
# Make appropriate containers
# Log in to web sites mail.com, gmail, firefox, reddit, gwj, github, twitter, work outlook, fb, feedly
# log in to learn.gold.ac.uk, https://goldmine.gold.ac.uk/, https://agresso.gscams.gold.ac.uk/a
# configure containers for each site

13. Get Gnome extensions
Got to https://extensions.gnome.org
Click 'Click here to install browser extensions'
Add Frippery Panel Favourites
Add TopIconsFix

14. Install google-chrome
See centos8 instructions at
https://www.if-not-true-then-false.com/2010/install-google-chrome-with-yum-on-fedora-red-hat-rhel/

15. Make useful dirs
# chmod uo+rw /scratch
# mkdir /scratch/Applications
# mkdir /scratch/Code
# mkdir /scratch/Projects
# cd /home/dbuchan
# ln -s /scratch/Applications Applications
# ln -s /scratch/Code Code
# ln -s /scratch/Projects Projects

16. get thunderbird
# dnf install thunderbird

17. Install development libs for Python Dev Server
# dnf install python36-devel
# pip3 install virtualenv

18. Install dev libs for PSIPRED server
# dnf install redis
# dnf install npm
# dnf install gnuplot
# dnf install ghostscript
# dnf install glibc.i686
# cpan install Expect
  May require force on some systems
# dnf install gd, gd-devel
# cpan install GD
# dnf install postgresql postgresql-devel
# dnf install inkscape gimp gv
# dnf install httpd httpd-devel

19. Install openjdk
# dnf install java-latest-openjdk java-latest-openjdk-devel

20. R/Rstudio Setup
# dnf install R
# dnf install readline-devel
get free https://www.rstudio.com/products/rstudio/download/
# wget https://download1.rstudio.org/desktop/fedora28/x86_64/rstudio-1.2.5033-x86_64.rpm
# rpm -Uvh rstudio-1.2.5033-x86_64.rpm
cd /usr/share/applications

21. Install Franz
https://meetfranz.com/
see github releases for tarball
# wget https://github.com/meetfranz/franz/releases/download/v5.4.1/franz-5.4.1.tar.gz
# tar -zxvf franz-5.4.1.tar.gz
# cd franz-5.4.1
# wget https://meetfranz.com/static/franz-logo.svg

# cd /usr/share/applications
# touch franz.desktop
# vi franz.desktop
add:
[Desktop Entry]
Name=Franz
GenericName=Media
Comment=Social Media things
Exec=/dbuchan/Applications/franz-5.4.1/franz
Terminal=false
Type=Application
Icon=/dbuchan/Applications/franz-5.4.1/index.svg
Categories=GNOME;GTK;Utility;
StartupNotify=true

22. Install connectTunnel for CS dept VPN
http://tsg.cs.ucl.ac.uk/basics/vpn/#c26036
# added and alias to my bashrc script
alias startct="startct -m console -s cswall.cs.ucl.ac.uk"

23. Add some .bashrc things
PS1="\[\e[0;32m\]\u\[\e[m\]@\[\e[1;34m\]\h\[\e[m\]:\w\$ ";
export PS1;

alias ls="ls --color=always";
alias z="ls --color=always -lah";
#alias lrm="'find . | xargs rm'"
alias duall="du -sch .[!.]* * | sort -h";
alias vi="vim";
alias sshk="ssh knuckles.cs.ucl.ac.uk"
alias startct="/bin/startct -m console -u dbuchan -p 303to909 -d cswall.cs.ucl.ac.uk";

24. Log in to wayland to use the application search to set favourites or set via
# gsettings get org.gnome.shell favorite-apps

25. Update nouveau drivers to Nvidia
I followed instructions at this (points 8 through 11)
https://sethgoldin.github.io/install-davinci-resolve-centos

### TODO

32. Add pomodoro
Down load source from https://gnomepomodoro.org/#download
# dnf install autoconf-archive libappstream-glib-devel gobject-introspection-devel vala vala-devel gtk3-devel

28. https://serverfault.com/questions/699307/how-to-grant-access-to-var-run-to-postgres-on-centos
# sudo chmod +x /etc/rc.d/rc.local
add to rc.local
chmod uog+rw /var/run/postgres
edit /usr/lib/tmpfiles.d/postgresql.conf
set permission to 0777

44 Check that any legacy virtualenvs do or don't need rebuilding
# rm -rf [ENV]
# mkvirtualenv [ENV]
# pip install -r requirements/[SOMETHING].txt

# Thunderbird setup
